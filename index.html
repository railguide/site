<!doctype html>
<html lang="en">
    <head>
        <script data-cfasync="false" src="https://cmp.gatekeeperconsent.com/min.js"></script>
        <script data-cfasync="false" src="https://the.gatekeeperconsent.com/cmp.min.js"></script>
        <script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
        <script>
            window.ezstandalone = window.ezstandalone || {};
            ezstandalone.cmd = ezstandalone.cmd || [];
        </script>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="description" content="Maps of current and historic rail lines in North America.">
        <meta name="keywords" content="Rail, Railroad, Railway, Maps, United States, Canada, Mexico, North America, Abandoned Rail Lines, Train Museums, Rail Trails">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        
        <!-- rg fix -->
        <title>Rail Guide</title>
        <!-- rg fix end -->
        
        <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
        
        <script src="https://kit.fontawesome.com/72a414283e.js" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

        <link href='https://api.mapbox.com/mapbox-gl-js/v2.11.0/mapbox-gl.css' rel='stylesheet' />
        <script src='https://api.mapbox.com/mapbox-gl-js/v2.11.0/mapbox-gl.js'></script>


        <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css" type="text/css">
        <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js"></script>

        <!-- Optional JavaScript; choose one of the two! -->

        <!-- Option 1: Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

        <!-- Option 2: Separate Popper and Bootstrap JS -->
        <!--
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
        -->
        
        <link rel="stylesheet" type="text/css" href="styledesktop.css" media="all">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;1,100;1,300;1,500;1,700&display=swap" rel="stylesheet">


        <link rel="icon" href="images/manifest/32.png">

        <!-- See https://goo.gl/OOhYW5 -->
        <link rel="manifest" href="manifest.json">

        <!-- See https://goo.gl/qRE0vM -->
        <meta name="theme-color" content="#3f51b5">

        <!-- Add to homescreen for Chrome on Android. Fallback for manifest.json -->
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="application-name" content="My App">

        <!-- Add to homescreen for Safari on iOS -->
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="default">
        <meta name="apple-mobile-web-app-title" content="My App">

        <!-- rg fix start (fix image file names) -->
        <!-- Homescreen icons -->
        <link rel="apple-touch-icon" href="images/manifest/48.png">
        <link rel="apple-touch-icon" sizes="72x72" href="images/manifest/i72.png">
        <link rel="apple-touch-icon" sizes="96x96" href="images/manifest/96.png">
        <link rel="apple-touch-icon" sizes="144x144" href="images/manifest/144.png">
        <link rel="apple-touch-icon" sizes="168x168" href="images/manifest/168.png">
        <link rel="apple-touch-icon" sizes="192x192" href="images/manifest/192.png">
        <link rel="apple-touch-icon" sizes="256x256" href="images/manifest/256.png">
        <link rel="apple-touch-icon" sizes="512x512" href="images/manifest/512.png">

        <!-- Tile icon for Windows 8 (144x144 + tile color) -->
        <meta name="msapplication-TileImage" content="images/manifest/144.png">
        <meta name="msapplication-TileColor" content="#3f51b5">
        <meta name="msapplication-tap-highlight" content="no">
        <!-- rg fix end -->
        
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-HDNFK9G48F"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-HDNFK9G48F');
        </script>
    </head>
    <body>
        <nav class="rail-guide-topbar">
            <div class="topbar-left">
                <a href="index.html">Map</a>
                <a href="about.html">About</a>
            </div>
            <div class="topbar-right">
                <a href="https://apps.apple.com/us/app/rail-guide/id6749467546" class="store-badge store-badge-apple" target="_blank" rel="noopener">
                    <span class="store-badge-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19z"/></svg></span>
                    <span class="store-badge-text"><span class="store-line1">Download on the</span><span class="store-line2">App Store</span></span>
                </a>
                <a href="https://play.google.com/store/apps/details?id=com.railguide.rg_free" class="store-badge store-badge-google" target="_blank" rel="noopener" aria-label="Get it on Google Play">
                    <svg class="store-badge-svg" viewBox="0 0 175 60" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <rect width="175" height="60" rx="6" ry="6" fill="#000"/>
                        <!-- Play icon: left-aligned with padding, no overlap with text -->
                        <path d="M14 12 L14 30 L32 30 Z" fill="#00C853"/>
                        <path d="M14 30 L14 48 L32 30 Z" fill="#00B0FF"/>
                        <path d="M14 12 L32 30 L50 30 Z" fill="#FFD600"/>
                        <path d="M14 48 L32 30 L50 30 Z" fill="#FF1744"/>
                        <text x="62" y="26" font-family="Roboto,Arial,sans-serif" font-size="11" fill="#fff" font-weight="400">GET IT ON</text>
                        <text x="62" y="44" font-family="Roboto,Arial,sans-serif" font-size="18" fill="#fff" font-weight="500">Google Play</text>
                    </svg>
                </a>
                <a href="about.html" class="topbar-contact">Contact</a>
                <a href="https://facebook.com/railguide" class="topbar-fb" target="_blank" rel="noopener" aria-label="Facebook">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                </a>
            </div>
        </nav>
        <!-- rg fix start -->
        <div id="map"></div>
        <ul id="ul" style="background: #fff;">
            <li style-id="0" onclick="currentActiveMap.setStyle(0)">Current</li>
            <li style-id="1" onclick="currentActiveMap.setStyle(1)">Attractions</li>
            <li style-id="2" onclick="currentActiveMap.setStyle(2)">Classic Owners</li>
            <li style-id="3" onclick="currentActiveMap.setStyle(3)">Current/Classic</li>
            <li style-id="4" onclick="currentActiveMap.setStyle(4)">Early Owners</li>
            <li style-id="5" onclick="currentActiveMap.setStyle(5)">Points of Interest</li>
            <li style-id="6" onclick="currentActiveMap.setStyle(6)">Abandoned</li>
            <li style-id="7" onclick="currentActiveMap.setStyle(7)">Satellite</li>
        </ul>
        <!-- rg fix end -->
        <div class="main-ctrl">
            <div class="my-custom-controls">
                <div class="left-controls">
                    <div id="loc">
                        <button class="btn" onclick="currentActiveMap.toggleSearch()">Show location</button>
                    </div>
                    <div id="map2">
                        <button class="btn" onclick="mapUl('#ul')">Maps</button>
                    </div>
                </div>
                <div class="center-controls">
                    <div id="guide">
                        <button class="btn" data-bs-toggle="modal" data-bs-target="#exampleModal">Rail Guide</button>
                    </div>
                </div>
                <div class="right-controls">
                    <div id="custom-map-zoom-placeholder"></div>
                    <div id="custom-map-compass-placeholder"></div>

                    <div id="search">
                        <div id="dt"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="custom-map-compass-placeholder-mb"></div>
        <div id="show-latitude-and-longitude">
            <button type="button" id="copy-coordinates-btn" class="coordinates-copy-btn" aria-label="Copy coordinates">
                <span class="copy-icon" aria-hidden="true"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg></span>
                <span id="show-latitude-label"></span>
                <span id="show-latitude-and-longitude-separator">, </span>
                <span id="show-longitude-label"></span>
            </button>
            <span id="show-zoom-level-label"></span>
            <div id="coordinates-copied-bubble" class="coordinates-copied-bubble" aria-live="polite">Coordinates copied</div>
        </div>
        <div id="copy-coordinates-tooltip" class="copy-coordinates-tooltip-fixed" aria-hidden="true">Copy coordinates</div>
        <div id="map-hover-tooltip" class="map-hover-tooltip" aria-hidden="true"></div>

        <!-- Mobile view: commented out per client - desktop view remains responsive -->
        <!--
        <div class="my-custom-controls-mob">
            <div class="my-custom-controls-mob-content">
                <div id="loc">
                    <button class="btn" onclick="currentActiveMap.toggleSearch()">
                        <img src="iconfiles/my_location_white_24dp.svg"/>
                    </button>
                </div>
                <div id="search">
                    <button class="btn" data-bs-toggle="modal" data-bs-target="#exampleModal2">
                        <img src="iconfiles/search_white_24dp.svg"/>
                    </button>
                </div>
                <div id="map2">
                    <button class="btn" onclick="mapUl('#ul2')">
                        <img src="iconfiles/layers_white_24dp.svg"/>
                    </button>
                    <ul id="ul2" style="background: #fff;">
                        <li id="current" style-id="0" onclick="currentActiveMap.setStyle(0)">Current</li>
                        <li id="current" style-id="1" onclick="currentActiveMap.setStyle(1)">Attractions</li>
                        <li id="current" style-id="2" onclick="currentActiveMap.setStyle(2)">Classic Owners</li>
                        <li id="current" style-id="3" onclick="currentActiveMap.setStyle(3)">Current/Classic</li>
                        <li id="current" style-id="4" onclick="currentActiveMap.setStyle(4)">Early Owners</li>
                        <li id="current" style-id="5" onclick="currentActiveMap.setStyle(5)">Points of Interest</li>
                        <li id="current" style-id="6" onclick="currentActiveMap.setStyle(6)">Abandoned</li>
                        <li id="current" style-id="7" onclick="currentActiveMap.setStyle(7)">Satellite</li>
                    </ul>
                </div>
                <div id="guide">
                    <button class="btn" data-bs-toggle="modal" data-bs-target="#exampleModal">Rail Guide</button>
                </div>
                <div id="custom-map-compass-placeholder-mb-sm"></div>
            </div>
        </div>
        -->

        <!-- rg fix -->
        <!-- 
        <div id="add-top">
           <img src="2581550759413523199.jpg" />
        </div>
        <div id="add-left">
            <img src="274761461325222941.png" />
        </div>
        <div id="add-right">
            <img src="274761461325222941.png" />
        </div>
         -->
         <!-- rg fix end --> 
    
        <!-- Modal (fade removed per client) -->
        <div class="modal" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="top: -35px;">
            <div class="modal-dialog modal-dialog-scrollable" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" style="padding: 0px;">
                        <div id="modal-inner-content">
                            <div id="modal-inner-content-scrollable">
                                <p class="about-line">
                                    <span class="about-icon about-icon-fb" aria-hidden="true"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></span>
                                    <span>Follow on Facebook at <a href="https://facebook.com/railguide" target="_blank" rel="noopener">facebook.com/railguide</a></span>
                                </p>
                                <p class="about-line">
                                    <span class="about-icon about-icon-email" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></span>
                                    <span>Send comments to <a href="mailto:info@rail.guide">info@rail.guide</a></span>
                                </p>
                                <p class="about-line">
                                    <span class="about-icon about-icon-map" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"/><circle cx="12" cy="9" r="2.5"/></svg></span>
                                    <span>Map contributions are always welcome. If you'd like to submit map data, <a href="https://www.google.com/maps/about/mymaps/">Google My Maps</a>, <a href="https://www.google.com/earth/about/versions/#earth-pro">Google Earth Pro</a>, <a href="https://caltopo.com/map.html">CalTopo</a>, and <a href="https://qgis.org/">QGIS</a> are excellent free tools to use for mapping. <a href="https://mapwarper.net">Map Warper</a> is another option for georeferencing map images. GeoJSON and KML/KMZ files are preferred, but all mapping file formats are accepted.</span>
                                </p>
                                <!-- 
                                <p class="hide-on-mobile">To install web app for iOS devices, open website in Safari, then click: Install</p>
                                <p class="hide-on-desktop">
                                    <a href="#" onclick="requestPWAInstallationPrompt()">(Web app for iOS device link)</a>
                                    Make sure you're using Safari
                                </p>
                                <p class="hide-on-desktop">If the link doesn't work, open page in Safari, then open the Share menu and tap Add to Home Screen</p>
                                 -->  
                            </div>
                        </div>

                    </div>
                    <div class="modal-footer" style="border-color: transparent;"></div>
                </div>
            </div>
        </div>

        <!-- Mobile search modal: commented out per client -->
        <!--
        <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        <br/>
                        <div id="dtmob"></div>
                    </div>
                </div>
            </div>
        </div>
        -->

        <script src="main.js?v=2"></script>
    </body>

</html>
